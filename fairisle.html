<!DOCTYPE html>

<html>
<head>	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

	<link rel="stylesheet" type="text/css" href="fairisle.css">
	<link href='https://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>
</head>

<body>

<div id="iconbox">
	<div class="icon">
		<img id="info-icon" class="icon-img" width="32" height="32" src="info-icon.png" alt="info" onclick="infoscreen()">
		<span class="helpbox">Info</span>
		<div id="infoscreen" >
			<div onclick="closeinfoscreen()" style="position:fixed;top:0px;left:0px;width:100%;height:100%;"></div>
			<div id = "infobox">
				<span id="infomessage">Info</span>
				<br /><br />
				<span>Hi! I made this so I could test out fair-isle punchcard patterns for my knitting machine. If you're using it I hope it helps you too!
				</br><br />Hopefully it is fairly easy to use, click on stitches and they swap colour and there's editing tools on the right. This runs best on desktop/laptop but should still work on your phone.
				</br><br />If you have any issues or find any bugs send me a message @olandobrando on Instagram. 
				</br><br />If you make anything I would love to see! tag me/dm @olandobrando</span>
				<br /><br />
				<button onclick="closeinfoscreen()" id="closeinfobutton">Done</button>
			</div>
		</div>
	</div>
	
	<div class="icon">
		<img id="new-icon" class="icon-img" width="32" height="32" src="new-icon.png" alt="new" onclick="openscreen()">
		<span class="helpbox">New/Open</span>
		<div id="openscreen" >
			<div onclick="closescreen()" style="position:fixed;top:0px;left:0px;width:100%;height:100%;"></div>
			<div id = "openbox">
				<span id="openmessage">New/Open Punchcard</span>
				<br />
				<button onclick="confirmreset()" id="confirmbutton">New</button>
				<br />
				<input type="text" placeholder="<Punchcard Code>" id="codetextinput" spellcheck="false">
				<button onclick="openbutton()" id="openmbutton">Open</button>
			</div>
			<div id = "confirmbox">
				<span id="confirmmessage">Confirm Blank Punchcard</span>
				<br />
				<span >Have you saved? You can't undo this action</span>
				<br />
				<button onclick="closescreen()" id="cancelbutton">Cancel</button>
				<button onclick="reset()" id="confirmbutton">Confirm</button>
			</div>
		</div>
	</div>
	
	<div class="icon">
		<img id="save-icon" class="icon-img" width="32" height="32" src="save-icon.png" alt="save" onclick="savescreen()">
		<span class="helpbox">Save</span>
		<div id="savescreen">
			<div onclick="cancelsave()" style="position:fixed;top:0px;left:0px;width:100%;height:100%;"></div>
			<div id = "savebox">
				<span id="savemessage">Save Punchcard</span>
				<br />
				<span>I've made a few ways to save your punchcards. Either copy or save it as an image (your current screen without the controls), copy as an  aray of 1s and 0s, or copy as a code which you can use to load this punchcard again. </span>
				<br />
				<input type="text" value="name" id="codetext" style = "width:90%;" spellcheck="false">
				<button onclick="saveimg()" id="saveimgbutton">Save Image</button>
				<button onclick="copyimg()" id="copyimgbutton">Copy Image</button>
				<br />
				<button onclick="copyarray()" id="copyarraybutton">Copy Array</button>
				<button onclick="copycode()" id="savearraybutton">Copy Code</button>
				<br />
				<button onclick="cancelsave()" id="cancelsavebutton">Done</button>
			</div>
		</div>
	</div>
	
	<div class="icon">
		<input type="text" value="10" id="length-icon" onclick="openconfirmmenu()" spellcheck="false">
		<span class="helpbox" id="lengthhelp">Set Length</span>
		<div id="confirmmenu">
			<img id="confirm-icon" width="32" height="32" src="confirm-icon.png" alt="confirm" onclick="clickconfirmmenu()">
		</div>
	</div>
	
	<div class="icon">
		<img id="view-icon" class="icon-img" width="32" height="32" src="punchcard-icon.png" alt="view" onclick="changeview()">
		<span class="helpbox" id = "view-helpbox">Punchcard View</span>
	</div>
	
	<div class="icon">
		<img id="grid-icon" class="icon-img" width="32" height="32" src="grid-icon.png" alt="grid" onclick="guidesonoff()">
		<span class="helpbox">Grid On/Off</span>
	</div>
	<div class="icon">
		<img id="scale-icon" class="icon-img" width="32" height="32" src="zoom-icon.png" alt="scale" onclick="openzoommenu()">
		<span class="helpbox">Zoom</span>
		<div id="scalemenu">	
			<input type="range" min="20" max="100" value="x50" class="slider" id="scale" oninput = "changescale()">
		</div>
	</div>
	<div class="icon">
		<img id="translate-icon" class="icon-img" width="32" height="32" src="translate-icon.png" alt="translate" onclick="opentranslatemenu()">
		<span class="helpbox">Translate</span>
		<div id="translatemenu">
			<img id="upbutton" class="dpad, dpadbutton" width="30" height="30" src="arrow-icon.png" alt="up" onclick="shiftup()">
			<img id="leftbutton" class="dpad, dpadbutton" width="30" height="30" src="arrow-icon.png" alt="left" onclick="shiftleft()" style="transform: rotate(270deg);">
			<img id="rightbutton" class="dpad, dpadbutton" width="30" height="30" src="arrow-icon.png" alt="right" onclick="shiftright()" style="transform: rotate(90deg);">
			<img id="downbutton" class="dpad, dpadbutton" width="30" height="30" src="arrow-icon.png" alt="down" onclick="shiftdown()" style="transform: rotate(180deg);">
		</div>

	</div>
	<div class="icon">
		<img id="rgb-icon" class="icon-img" width="32" height="32" src="rgb-icon.png" alt="rgb" onclick="opencolourmenu()">
		<span class="helpbox">Colour Select</span>
		<div id="colourmenu">
			<input type="color" id="colour1" name="Colour 1" value="#ba9be8" oninput = "changecolours()">
			<input type="color" id="colour2" name="Colour 2" value="#148f76" oninput = "changecolours()">
			<input type="color" id="bgcolour" name="Background Colour" value="#3d6ca9" oninput = "changecolours()">
		</div>
	</div>
	<div class="icon">
		<img id="floats-icon" class="icon-img" width="32" height="32" src="floats-icon.png" alt="long floats" onclick="longfloats()">
		<span class="helpbox">Highlight Long Floats</span>
	</div>
</div>

<div id = "canvasbox">
	<canvas id = "canvas">Your browser does not support the HTML5 canvas tag.</canvas>
</div>

<script src="punchcards.js"></script>
<script src="fairisle.js"></script>

</body>
</html>